<div class="approvals-container">
  <h2>Vacation Approvals</h2>
  
  <div *ngIf="!currentUser?.isManager" class="error-message">
    Only managers can access this page.
  </div>

  <div *ngIf="currentUser?.isManager" class="approvals-content">
    <div class="pending-list">
      <h3>Pending Vacations</h3>
      <div *ngIf="pendingVacations.length === 0" class="empty-state">
        No pending vacations to approve.
      </div>

      <div *ngFor="let vacation of pendingVacations" 
           class="vacation-card"
           [class.selected]="selectedVacation?.id === vacation.id"
           (click)="selectVacation(vacation)">
        <div class="vacation-info">
          <p class="vacation-dates">{{ formatDate(vacation.startDate) }} - {{ formatDate(vacation.endDate) }}</p>
          <p class="vacation-type">{{ vacation.type }}</p>
          <p *ngIf="vacation.notes" class="vacation-notes">{{ vacation.notes }}</p>
        </div>
        <div class="vacation-status" [class]="'status-' + vacation.status">
          {{ getStatusLabel(vacation.status) }}
        </div>
      </div>
    </div>

    <div *ngIf="selectedVacation" class="approval-form">
      <h3>Approve or Reject</h3>
      <div class="form-group">
        <p><strong>Dates:</strong> {{ formatDate(selectedVacation.startDate) }} - {{ formatDate(selectedVacation.endDate) }}</p>
        <p><strong>Type:</strong> {{ selectedVacation.type }}</p>
        <p *ngIf="selectedVacation.notes"><strong>Notes:</strong> {{ selectedVacation.notes }}</p>
      </div>

      <div class="form-group">
        <label for="rejectReason">Reject Reason (optional):</label>
        <textarea id="rejectReason" [(ngModel)]="rejectReason" placeholder="Enter reason for rejection..."></textarea>
      </div>

      <div class="button-group">
        <button class="btn btn-approve" (click)="approve()">Approve</button>
        <button class="btn btn-reject" (click)="reject()">Reject</button>
      </div>
    </div>
  </div>
</div>
